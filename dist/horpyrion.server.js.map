{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e2a243b5dc44cf82a3c6","webpack:///./src/throwIfNoSync.js","webpack:///external \"babel-polyfill\"","webpack:///./src/index.js","webpack:///./src/Horpyrion.js","webpack:///./src/UserAndSchemaContext.js","webpack:///./src/RecordContext.js","webpack:///./src/actions/createRecordFactory.js","webpack:///./src/actions/getRecordListFactory.js","webpack:///./src/actions/getRecordFactory.js","webpack:///./src/contextActions/getContextSchemaFactory.js","webpack:///./src/actions/createSchemaFactory.js","webpack:///./src/RootUser.js","webpack:///./src/ModelManager.js","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///external \"sequelize\"","webpack:///external \"function-overloader\"","webpack:///./src/contextActions/getContextUserFactory.js"],"names":["throwIfNoSync","modelManager","isSync","Promise","resolve","reject","Error","default","Horpyrion","configuration","_configuration","options","_modelManager","ModelManager","authenticate","sync","contextUserAction","RootUser","ROOT_USER_ID","UserAndSchemaContext","userId","getDbInstance","_userAction","schemaName","schemaAction","then","schema","toJSON","contextSchemaAction","RecordContext","_schemaAction","attributeName","attributeType","recordId","recordAction","record","query","recordList","data","createRecordFactory","getModels","Record","create","SchemaId","id","getRecordListFactory","findAll","where","raw","findOne","getContextSchemaFactory","Schema","name","createSchemaFactory","entitySchema","Symbol","_isSync","when","Overload","INSTANCE","Sequelize","do","_sequelize","sequelize","else","config","dbname","user","password","dialect","type","port","host","logging","execute","arguments","_models","fs","readdirSync","path","join","__dirname","filter","file","indexOf","forEach","model","import","Object","values","associate","catch","console","error","err","getContextUserFactory","User","UserId"],"mappings":"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","file":"horpyrion.server.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e2a243b5dc44cf82a3c6","export default function throwIfNoSync(modelManager) {\n    if (modelManager && modelManager.isSync()) {\n        return Promise.resolve();\n    } else {\n        return Promise.reject(new Error(\"No synchronization with database. Run sync() method\"));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/throwIfNoSync.js","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 2\n// module chunks = 0","export default from \"./Horpyrion\";\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import UserAndSchemaContext from \"./UserAndSchemaContext\";\nimport RootUser from \"./RootUser\";\nimport ModelManager from \"./ModelManager\";\nimport getContextUserFactory from \"./contextActions/getContextUserFactory\";\n\nexport default class Horpyrion {\n    constructor(configuration) {\n        this._configuration = configuration;\n    }\n    async sync(options) {\n        this._modelManager = new ModelManager(this._configuration);\n        await this._modelManager.authenticate();\n        await this._modelManager.sync(options);\n    }\n\n    setRootUser() {\n        const contextUserAction = getContextUserFactory(RootUser.ROOT_USER_ID, this._modelManager);\n        return new UserAndSchemaContext(contextUserAction, this._modelManager);\n    }\n\n    setUser(userId) {\n        const contextUserAction = getContextUserFactory(userId, this._modelManager);\n        return new UserAndSchemaContext(contextUserAction, this._modelManager);\n    }\n\n    getDbInstance() {\n        return this._modelManager.getDbInstance();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Horpyrion.js","import RecordContext from \"./RecordContext\";\nimport getContextSchemaFactory from \"./contextActions/getContextSchemaFactory\";\nimport createSchemaFactory from \"./actions/createSchemaFactory\";\nimport throwIfNoSync from \"./throwIfNoSync\";\n\nexport default class UserAndSchemaContext {\n    constructor(contextUserAction, modelManager) {\n        this._userAction = contextUserAction;\n        this._modelManager = modelManager;\n    }\n\n    createSchema(schemaName) {\n        const schemaAction = createSchemaFactory(schemaName, this._modelManager);\n        return throwIfNoSync(this._modelManager)\n            .then(() => schemaAction())\n            .then(schema => schema.toJSON());\n    }\n\n    setSchema(schemaName) {\n        const contextSchemaAction = getContextSchemaFactory(schemaName, this._modelManager);\n        return new RecordContext(this._userAction, contextSchemaAction, this._modelManager);\n    }\n\n    createUser() {\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/UserAndSchemaContext.js","import createRecordFactory from \"./actions/createRecordFactory\";\nimport getRecordListFactory from \"./actions/getRecordListFactory\";\nimport getRecordFactory from \"./actions/getRecordFactory\";\nimport throwIfNoSync from \"./throwIfNoSync\";\n\nexport default class RecordContext {\n    constructor(contextUserAction, contextSchemaAction, modelManager) {\n        this._userAction = contextUserAction;\n        this._schemaAction = contextSchemaAction;\n        this._modelManager = modelManager;\n    }\n\n    async addAttribute(attributeName, attributeType) {\n        return false;\n    }\n\n    async getRecord(recordId) {\n        const recordAction = getRecordFactory(recordId, this._modelManager);\n\n        return throwIfNoSync(this._modelManager)\n            .then(() => this._schemaAction())\n            .then(schema => recordAction(schema))\n            .then(record => {\n                if (record) {\n                    return record;\n                } else {\n                    return null;\n                }\n            });\n    }\n\n    getRecords(query) {\n        const recordAction = getRecordListFactory(query, this._modelManager);\n\n        return throwIfNoSync(this._modelManager)\n            .then(() => this._schemaAction())\n            .then(schema => recordAction(schema))\n            .then(recordList => recordList);\n    }\n\n    createRecord(data) {\n        const recordAction = createRecordFactory(data, this._modelManager);\n\n        return throwIfNoSync(this._modelManager)\n            .then(() => this._schemaAction())\n            .then(schema => recordAction(schema))\n            .then(record => record.toJSON());\n    }\n\n    async updateRecord() {\n        return false;\n    }\n\n    async getAttributes() {\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/RecordContext.js","export default function createRecordFactory(data, modelManager) {\n    return schema =>\n        modelManager\n            .getModels()\n            .Record.create({\n                SchemaId: schema.id,\n                data: data\n            })\n\n            .then(record => record);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/createRecordFactory.js","export default function getRecordListFactory(query, modelManager) {\n    return schema =>\n        modelManager\n            .getModels()\n            .Record.findAll({\n                where: {\n                    SchemaId: schema.id\n                },\n                raw: true\n            })\n            .then(recordList => {\n                return recordList;\n            });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/getRecordListFactory.js","export default function getRecordListFactory(recordId, modelManager) {\n    return schema =>\n        modelManager\n            .getModels()\n            .Record.findOne({\n                where: {\n                    SchemaId: schema.id,\n                    id: recordId\n                },\n                raw: true\n            })\n            .then(record => {\n                return record;\n            });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/getRecordFactory.js","export default function getContextSchemaFactory(schemaName, modelManager) {\n    return () =>\n        modelManager\n            .getModels()\n            .Schema.findOne({\n                where: {\n                    name: schemaName\n                },\n                raw: true\n            })\n            .then(schema => {\n                if (!schema) {\n                }\n                return schema;\n            });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/contextActions/getContextSchemaFactory.js","export default function createSchemaFactory(schemaName, modelManager) {\n    return () =>\n        modelManager\n            .getModels()\n            .Schema.create(\n                {\n                    name: schemaName\n                },\n                {}\n            )\n            .then(entitySchema => {\n                return entitySchema;\n            });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/createSchemaFactory.js","const ROOT_USER_ID = Symbol(\"ROOT_USER_ID\");\nexport default ROOT_USER_ID;\n\n\n\n// WEBPACK FOOTER //\n// ./src/RootUser.js","import fs from \"fs\";\nimport path from \"path\";\nimport Sequelize from \"sequelize\";\nimport Overload from \"function-overloader\";\n\nexport default class ModelManager {\n    constructor() {\n        this._isSync = false;\n        Overload.when(Overload.INSTANCE(Sequelize))\n            .do(sequelize => {\n                this._sequelize = sequelize;\n            })\n            .else(config => {\n                this._sequelize = new Sequelize(config.dbname, config.user, config.password, {\n                    dialect: config.type,\n                    port: config.port,\n                    host: config.host,\n                    logging: config.logging\n                });\n            })\n            .execute(...arguments);\n        this._models = {};\n        fs.readdirSync(path.join(__dirname, \"models\"))\n            .filter(file => {\n                return file.indexOf(\".\") !== 0;\n            })\n            .forEach(file => {\n                const model = this._sequelize.import(path.join(__dirname, \"models\", file));\n                this._models[model.name] = model;\n            });\n        Object.values(this._models).forEach(model => {\n            if (model.associate) {\n                model.associate(this._models);\n            }\n        });\n    }\n\n    getDbInstance() {\n        return this._sequelize;\n    }\n\n    async sync(options) {\n        return this._sequelize.sync(options).then(() => {\n            this._isSync = true;\n        });\n    }\n\n    isSync() {\n        return this._isSync;\n    }\n\n    getModels() {\n        return this._models;\n    }\n\n    async authenticate() {\n        return this._sequelize\n            .authenticate()\n            .then(() => {})\n            .catch(err => {\n                console.error(\"Unable to connect to the database:\", err);\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ModelManager.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"function-overloader\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"function-overloader\"\n// module id = 17\n// module chunks = 0","export default function getContextUserFactory(userId, modelManager) {\n    return () =>\n        modelManager\n            .getModels()\n            .User.findOne({\n                where: {\n                    UserId: userId\n                },\n                raw: true\n            })\n            .then(user => {\n                if (!user) {\n                }\n                return user;\n            });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/contextActions/getContextUserFactory.js"],"sourceRoot":""}